<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>MC Shop</title>
<script src="products.js"></script>
<style>
body{font-family:Arial;margin:20px;}
.grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(150px,1fr));gap:20px;}
.card{border:1px solid #ccc;padding:10px;text-align:center;border-radius:8px;}
button{margin-top:5px;padding:5px 10px;cursor:pointer;}
#cart{position:fixed;top:10px;right:10px;border:1px solid #333;padding:10px;background:white;}
</style>
</head>
<body>

<h1>MC Shop</h1>
<div class="grid" id="productGrid"></div>

<div id="cart">
  <h3>Cart</h3>
  <ul id="cartList"></ul>
  <input type="text" id="mcUsername" placeholder="Minecraft Username">
  <button onclick="checkout()">Send Order</button>
</div>

<script>
let cart = [];

function renderProducts(){
  const grid = document.getElementById('productGrid');
  grid.innerHTML = '';
  products.forEach((p,i)=>{
    const div = document.createElement('div');
    div.className='card';
    div.innerHTML = `
      <img src="${p.image}" width="100"><br>
      ${p.name} - ${p.price}<br>
      <button onclick="addToCart(${i})">Add to Cart</button>
    `;
    grid.appendChild(div);
  });
}

function addToCart(index){
  cart.push(products[index]);
  renderCart();
}

function renderCart(){
  const list = document.getElementById('cartList');
  list.innerHTML = '';
  cart.forEach(p=>{
    const li = document.createElement('li');
    li.textContent = `${p.name} - ${p.price}`;
    list.appendChild(li);
  });
}

function checkout(){
  const username = document.getElementById('mcUsername').value.trim();
  if(!username){alert("Enter Minecraft username"); return;}
  if(cart.length===0){alert("Cart is empty"); return;}
  const webhook = "YOUR_DISCORD_WEBHOOK_URL";
  const items = cart.map(p=>`${p.name} - ${p.price}`).join("\n");
  fetch(webhook,{
    method:"POST",
    headers:{"Content-Type":"application/json"},
    body: JSON.stringify({content:`New order from ${username}:\n${items}`})
  }).then(()=>{alert("Order sent!"); cart=[]; renderCart(); document.getElementById('mcUsername').value='';});
}

renderProducts();
</script>
</body>
</html>
